function tourMe(){var e=this;this.$arr=[],this.start=function(e){var t=0,o=!1;void 0!==e&&(t=e.repeat,o=screen.width>768&&e.arrow);var r=document.querySelectorAll("[data-tourme-seq]");if(0==t)this.setCookie("tourmecookie_id",0,-665);else{var n=this.getCookie("tourmecookie_id");if(n){if(0==parseInt(n))return;var u=parseInt(n)-1;this.setCookie("tourmecookie_id",u,365)}else this.setCookie("tourmecookie_id",parseInt(t),365)}for(var c=0;c<r.length;c++){var a=c+"_"+this.generateUID();r[c].classList.add("tourMe"),r[c].setAttribute("data-tourme-id",a);var d=null!=r[c].getAttribute("data-tourme-anim")&&r[c].getAttribute("data-tourme-anim"),i=null!=r[c].getAttribute("data-tourme-content")&&r[c].getAttribute("data-tourme-content"),l=null!=r[c].getAttribute("data-tourme-anchor")&&r[c].getAttribute("data-tourme-anchor"),m=null!=r[c].getAttribute("data-tourme-classes")&&r[c].getAttribute("data-tourme-classes"),s=null!=r[c].getAttribute("data-tourme-top")&&r[c].getAttribute("data-tourme-top"),f=null!=r[c].getAttribute("data-tourme-left")&&r[c].getAttribute("data-tourme-left"),p=null!=r[c].getAttribute("data-tourme-arrow")&&r[c].getAttribute("data-tourme-arrow");this.$arr.push({id:a,seq:parseInt(r[c].getAttribute("data-tourme-seq")),anim:d,content:i,anchor:l,active:0,classes:m,top:s,left:f,arrow_pos:p}),this.$arr.sort(function(e,t){return e.seq<t.seq?-1:e.seq>t.seq?1:0})}var y=document.createElement("div");y.setAttribute("id","tourme-bg"),document.querySelector("body").appendChild(y);var S=document.createElement("div");S.setAttribute("id","tourme-content"),$data=JSON.stringify(this.$arr),o?(S.classList.add("with-arrow"),S.innerHTML="<div class='tourme-content-wrapper'><div class='tourme-arrow'></div><div class='tourme-content-container'><div class='content'></div><input type='hidden' value='"+$data+"' id='tourme-data'><div id='tourme-buttons'><a href='#' id='tourme-button-prev'>Prev</a><a href='#' id='tourme-button-next'>Next</a><a href='#' id='tourme-button-end'>Skip</a></div></div></div>"):S.innerHTML="<div class='tourme-content-wrapper'><div class='tourme-content-container'><div class='content'></div><input type='hidden' value='"+$data+"' id='tourme-data'><div id='tourme-buttons'><a href='#' id='tourme-button-prev'>Prev</a><a href='#' id='tourme-button-next'>Next</a><a href='#' id='tourme-button-end'>Skip</a></div></div></div>",document.querySelector("body").appendChild(S),this.init()},this.setCookie=function(e,t,o){if(o){var r=new Date;r.setTime(r.getTime()+24*o*60*60*1e3);var n="; expires="+r.toGMTString()}else n="";document.cookie=e+"="+t+n+"; path=/"},this.getCookie=function(e){for(var t=e+"=",o=decodeURIComponent(document.cookie).split(";"),r=0;r<o.length;r++){for(var n=o[r];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return!1},this.scrollToEl=function(e){const t=e.getBoundingClientRect().top+window.scrollY-100;window.scroll({top:t,behavior:"smooth"})},this.init=function(){document.querySelector("#tourme-button-end").addEventListener("click",function(e){e.preventDefault(),null!==document.querySelector(".tourme-pointer")&&document.querySelector(".tourme-pointer").classList.remove("tourme-pointer");var t=document.querySelector("#tourme-bg");t.parentNode.removeChild(t);var o=document.querySelector("#tourme-content");o.parentNode.removeChild(o)}),document.querySelector("#tourme-button-prev").addEventListener("click",function(t){t.preventDefault();var o=JSON.parse(document.querySelector("#tourme-data").value);null!==document.querySelector(".tourme-pointer")&&document.querySelector(".tourme-pointer").classList.remove("tourme-pointer");var r=o.findIndex(e=>1==e.active);if(0!=r){if(o[r-1].anchor?document.querySelector("#tourme-content .content").innerHTML=document.querySelector(o[r-1].anchor).innerHTML:document.querySelector("#tourme-content .content").innerHTML=o[r-1].content,document.querySelector("#tourme-content").classList.contains("with-arrow")){var n=o[r-1].arrow_pos;if(n){if("arrow-left"==n||"arrow-right"==n){var u=document.querySelector("#tourme-content .tourme-content-container").offsetHeight;document.querySelector("#tourme-content .tourme-arrow").style.top=u/2-20}else document.querySelector("#tourme-content .tourme-arrow").removeAttribute("style");document.querySelector("#tourme-content").classList.remove("arrow-up","arrow-down","arrow-left","arrow-right"),document.querySelector("#tourme-content").classList.add(n)}}var c=document.querySelector("#tourme-content").className;o[r-1].classes?document.querySelector("#tourme-content").className=c+" "+o[r-1].classes:document.querySelector("#tourme-content").className=c,!o[r-1].top||screen.width<768?document.querySelector("#tourme-content").style.top=e.getOffset(document.querySelector('.tourMe[data-tourme-id="'+o[r-1].id+'"]')).top+"px":-1==o[r-1].top.indexOf("-")?document.querySelector("#tourme-content").style.top=e.getOffset(document.querySelector('.tourMe[data-tourme-id="'+o[r-1].id+'"]')).top+parseInt(o[r-1].top)+"px":document.querySelector("#tourme-content").style.top=e.getOffset(document.querySelector('.tourMe[data-tourme-id="'+o[r-1].id+'"]')).top-parseInt(o[r-1].top.replace("-",""))+"px",!o[r-1].left||screen.width<768?document.querySelector("#tourme-content").style.left=e.getOffset(document.querySelector('.tourMe[data-tourme-id="'+o[r-1].id+'"]')).left+"px":-1==o[r-1].left.indexOf("-")?document.querySelector("#tourme-content").style.left=e.getOffset(document.querySelector('.tourMe[data-tourme-id="'+o[r-1].id+'"]')).left+parseInt(o[r-1].left)+"px":document.querySelector("#tourme-content").style.left=e.getOffset(document.querySelector('.tourMe[data-tourme-id="'+o[r-1].id+'"]')).left-parseInt(o[r-1].left.replace("-",""))+"px",document.querySelector('.tourMe[data-tourme-id="'+o[r-1].id+'"]').classList.add("tourme-pointer"),e.scrollToEl(document.querySelector('.tourMe[data-tourme-id="'+o[r-1].id+'"]')),o[r].active=0,$old_data=JSON.parse(document.querySelector("#tourme-data").value),$old_data_active=$old_data.findIndex(e=>1==e.active),0!=$old_data_active&&(o[r-1].active=1),document.querySelector("#tourme-data").value=JSON.stringify(o)}}),document.querySelector("#tourme-button-next").addEventListener("click",function(t){t.preventDefault();var o=JSON.parse(document.querySelector("#tourme-data").value);null!==document.querySelector(".tourme-pointer")&&document.querySelector(".tourme-pointer").classList.remove("tourme-pointer");var r=o.findIndex(e=>1==e.active);if(r!=o.length-1){if(o[r+1].anchor?document.querySelector("#tourme-content .content").innerHTML=document.querySelector(o[r+1].anchor).innerHTML:document.querySelector("#tourme-content .content").innerHTML=o[r+1].content,document.querySelector("#tourme-content").classList.contains("with-arrow")){var n=o[r+1].arrow_pos;if(n){if("arrow-left"==n||"arrow-right"==n){var u=document.querySelector("#tourme-content .tourme-content-container").offsetHeight;document.querySelector("#tourme-content .tourme-arrow").style.top=u/2-20}else document.querySelector("#tourme-content .tourme-arrow").removeAttribute("style");document.querySelector("#tourme-content").classList.remove("arrow-up","arrow-down","arrow-left","arrow-right"),document.querySelector("#tourme-content").classList.add(n)}}var c=document.querySelector("#tourme-content").className;o[r+1].classes?document.querySelector("#tourme-content").className=c+" "+o[r+1].classes:document.querySelector("#tourme-content").className=c,!o[r+1].top||screen.width<768?document.querySelector("#tourme-content").style.top=e.getOffset(document.querySelector('.tourMe[data-tourme-id="'+o[r+1].id+'"]')).top+"px":-1==o[r+1].top.indexOf("-")?document.querySelector("#tourme-content").style.top=e.getOffset(document.querySelector('.tourMe[data-tourme-id="'+o[r+1].id+'"]')).top+parseInt(o[r+1].top)+"px":document.querySelector("#tourme-content").style.top=e.getOffset(document.querySelector('.tourMe[data-tourme-id="'+o[r+1].id+'"]')).top-parseInt(o[r+1].top.replace("-",""))+"px",!o[r+1].left||screen.width<768?document.querySelector("#tourme-content").style.left=e.getOffset(document.querySelector('.tourMe[data-tourme-id="'+o[r+1].id+'"]')).left+"px":-1==o[r+1].left.indexOf("-")?document.querySelector("#tourme-content").style.left=e.getOffset(document.querySelector('.tourMe[data-tourme-id="'+o[r+1].id+'"]')).left+parseInt(o[r+1].left)+"px":document.querySelector("#tourme-content").style.left=e.getOffset(document.querySelector('.tourMe[data-tourme-id="'+o[r+1].id+'"]')).left-parseInt(o[r+1].left.replace("-",""))+"px",document.querySelector('.tourMe[data-tourme-id="'+o[r+1].id+'"]').classList.add("tourme-pointer"),e.scrollToEl(document.querySelector('.tourMe[data-tourme-id="'+o[r+1].id+'"]')),o[r].active=0,$old_data=JSON.parse(document.querySelector("#tourme-data").value),$old_data_active=$old_data.findIndex(e=>1==e.active),$old_data_active!=$old_data.length-1&&(o[r+1].active=1),document.querySelector("#tourme-data").value=JSON.stringify(o)}else{null!==document.querySelector(".tourme-pointer")&&document.querySelector(".tourme-pointer").classList.remove("tourme-pointer");var a=document.querySelector("#tourme-bg");a.parentNode.removeChild(a);var d=document.querySelector("#tourme-content");d.parentNode.removeChild(d)}});var t=JSON.parse(document.querySelector("#tourme-data").value);null!==document.querySelector(".tourme-pointer")&&document.querySelector(".tourme-pointer").classList.remove("tourme-pointer");var o=document.querySelector("#tourme-content").className;if(t[0].classes?document.querySelector("#tourme-content").className=o+" "+t[0].classes:document.querySelector("#tourme-content").className=o,!t[0].top||screen.width<768?document.querySelector("#tourme-content").style.top=this.getOffset(document.querySelector('.tourMe[data-tourme-id="'+t[0].id+'"]')).top+"px":-1==t[0].top.indexOf("-")?document.querySelector("#tourme-content").style.top=this.getOffset(document.querySelector('.tourMe[data-tourme-id="'+t[0].id+'"]')).top+parseInt(t[0].top)+"px":document.querySelector("#tourme-content").style.top=this.getOffset(document.querySelector('.tourMe[data-tourme-id="'+t[0].id+'"]')).top-parseInt(t[0].top.replace("-",""))+"px",!t[0].left||screen.width<768?document.querySelector("#tourme-content").style.left=this.getOffset(document.querySelector('.tourMe[data-tourme-id="'+t[0].id+'"]')).left+"px":-1==t[0].left.indexOf("-")?document.querySelector("#tourme-content").style.left=this.getOffset(document.querySelector('.tourMe[data-tourme-id="'+t[0].id+'"]')).left+parseInt(t[0].left)+"px":document.querySelector("#tourme-content").style.left=this.getOffset(document.querySelector('.tourMe[data-tourme-id="'+t[0].id+'"]')).left-parseInt(t[0].left.replace("-",""))+"px",document.querySelector('.tourMe[data-tourme-id="'+t[0].id+'"]').classList.add("tourme-pointer"),this.scrollToEl(document.querySelector('.tourMe[data-tourme-id="'+t[0].id+'"]')),t[0].anchor?document.querySelector("#tourme-content .content").innerHTML=document.querySelector(t[0].anchor).innerHTML:document.querySelector("#tourme-content .content").innerHTML=t[0].content,document.querySelector("#tourme-content").classList.contains("with-arrow")){var r=t[0].arrow_pos;r&&document.querySelector("#tourme-content").classList.add(r)}document.querySelector("#tourme-bg").style.display="block",document.querySelector("#tourme-content").style.display="block",t[0].active=1,document.querySelector("#tourme-data").value=JSON.stringify(t)},this.getOffset=function(e){const t=e.getBoundingClientRect();return{left:t.left+window.scrollX,top:t.top+window.scrollY}},this.generateUID=function(){for(var e=(+new Date).toString().split("").reverse(),t="",o=0;o<8;++o){t+=e[Math.floor(Math.random()*(e.length-1-0+1))+0]}return t},this.elInViewport=function(e){for(var t=e.offsetTop,o=e.offsetLeft,r=e.offsetWidth,n=e.offsetHeight;e.offsetParent;)t+=(e=e.offsetParent).offsetTop,o+=e.offsetLeft;return t>=window.pageYOffset&&o>=window.pageXOffset&&t+n<=window.pageYOffset+window.innerHeight&&o+r<=window.pageXOffset+window.innerWidth}}