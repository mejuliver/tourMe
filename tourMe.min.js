function tourMe(){var e=this;this.$arr=[],this.start=function(e){var t=document.querySelectorAll("[data-tourme-seq]");if(void 0!==e)if(0==e)this.setCookie("tourmecookie_id",0,-665);else{var o=this.getCookie("tourmecookie_id");if(o){if(0==parseInt(o))return;var r=parseInt(o)-1;this.setCookie("tourmecookie_id",r,365)}else this.setCookie("tourmecookie_id",parseInt(e),365)}for(var u=0;u<t.length;u++){var n=u+"_"+this.generateUID();t[u].classList.add("tourMe"),t[u].setAttribute("data-tourme-id",n);var c=null!=t[u].getAttribute("data-tourme-anim")&&t[u].getAttribute("data-tourme-anim"),d=null!=t[u].getAttribute("data-tourme-content")&&t[u].getAttribute("data-tourme-content"),a=null!=t[u].getAttribute("data-tourme-anchor")&&t[u].getAttribute("data-tourme-anchor"),l=null!=t[u].getAttribute("data-tourme-classes")&&t[u].getAttribute("data-tourme-classes"),i=null!=t[u].getAttribute("data-tourme-top")&&t[u].getAttribute("data-tourme-top"),m=null!=t[u].getAttribute("data-tourme-left")&&t[u].getAttribute("data-tourme-left");this.$arr.push({id:n,seq:parseInt(t[u].getAttribute("data-tourme-seq")),anim:c,content:d,anchor:a,active:0,classes:l,top:i,left:m}),this.$arr.sort(function(e,t){return e.seq<t.seq?-1:e.seq>t.seq?1:0})}var s=document.createElement("div");s.setAttribute("id","tourme-bg"),document.querySelector("body").appendChild(s);var f=document.createElement("div");f.setAttribute("id","tourme-content"),$data=JSON.stringify(this.$arr),f.innerHTML="<div class='content'></div><input type='hidden' value='"+$data+"' id='tourme-data'><div id='tourme-buttons'><a href='#' id='tourme-button-prev'>Prev</a><a href='#' id='tourme-button-next'>Skip</a><a href='#' id='tourme-button-end'>End</a></div>",document.querySelector("body").appendChild(f),this.init()},this.setCookie=function(e,t,o){if(o){var r=new Date;r.setTime(r.getTime()+24*o*60*60*1e3);var u="; expires="+r.toGMTString()}else u="";document.cookie=e+"="+t+u+"; path=/"},this.getCookie=function(e){for(var t=e+"=",o=decodeURIComponent(document.cookie).split(";"),r=0;r<o.length;r++){for(var u=o[r];" "==u.charAt(0);)u=u.substring(1);if(0==u.indexOf(t))return u.substring(t.length,u.length)}return!1},this.scrollToEl=function(e){const t=e.getBoundingClientRect().top+window.scrollY-100;window.scroll({top:t,behavior:"smooth"})},this.init=function(){document.querySelector("#tourme-button-end").addEventListener("click",function(e){e.preventDefault(),null!==document.querySelector(".tourme-pointer")&&document.querySelector(".tourme-pointer").classList.remove("tourme-pointer");var t=document.querySelector("#tourme-bg");t.parentNode.removeChild(t);var o=document.querySelector("#tourme-content");o.parentNode.removeChild(o)}),document.querySelector("#tourme-button-prev").addEventListener("click",function(t){t.preventDefault();var o=JSON.parse(document.querySelector("#tourme-data").value);null!==document.querySelector(".tourme-pointer")&&document.querySelector(".tourme-pointer").classList.remove("tourme-pointer");var r=o.findIndex(e=>1==e.active);0!=r&&(o[r-1].anchor?document.querySelector("#tourme-content .content").innerHTML=document.querySelector(o[r-1].anchor).innerHTML:document.querySelector("#tourme-content .content").innerHTML=o[r-1].content,o[r-1].classes?document.querySelector("#tourme-content").className=o[r-1].classes:document.querySelector("#tourme-content").className="",o[r-1].top?-1==o[r-1].top.indexOf("-")?document.querySelector("#tourme-content").style.top=e.getOffset(document.querySelector('.tourMe[data-tourme-id="'+o[r-1].id+'"]')).top+o[r-1].top+"px":document.querySelector("#tourme-content").style.top=e.getOffset(document.querySelector('.tourMe[data-tourme-id="'+o[r-1].id+'"]')).top-parseInt(o[r-1].top.replace("-",""))+"px":document.querySelector("#tourme-content").style.top=e.getOffset(document.querySelector('.tourMe[data-tourme-id="'+o[r-1].id+'"]')).top+"px",o[r-1].left?-1==o[r-1].left.indexOf("-")?document.querySelector("#tourme-content").style.left=e.getOffset(document.querySelector('.tourMe[data-tourme-id="'+o[r-1].id+'"]')).left+o[r-1].left+"px":document.querySelector("#tourme-content").style.left=e.getOffset(document.querySelector('.tourMe[data-tourme-id="'+o[r-1].id+'"]')).left-parseInt(o[r-1].left.replace("-",""))+"px":document.querySelector("#tourme-content").style.left=e.getOffset(document.querySelector('.tourMe[data-tourme-id="'+o[r-1].id+'"]')).left+"px",document.querySelector('.tourMe[data-tourme-id="'+o[r-1].id+'"]').classList.add("tourme-pointer"),e.scrollToEl(document.querySelector('.tourMe[data-tourme-id="'+o[r-1].id+'"]')),o[r].active=0,$old_data=JSON.parse(document.querySelector("#tourme-data").value),$old_data_active=$old_data.findIndex(e=>1==e.active),0!=$old_data_active&&(o[r-1].active=1),document.querySelector("#tourme-data").value=JSON.stringify(o))}),document.querySelector("#tourme-button-next").addEventListener("click",function(t){t.preventDefault();var o=JSON.parse(document.querySelector("#tourme-data").value);null!==document.querySelector(".tourme-pointer")&&document.querySelector(".tourme-pointer").classList.remove("tourme-pointer");var r=o.findIndex(e=>1==e.active);if(r!=o.length-1)o[r+1].anchor?document.querySelector("#tourme-content .content").innerHTML=document.querySelector(o[r+1].anchor).innerHTML:document.querySelector("#tourme-content .content").innerHTML=o[r+1].content,o[r+1].classes?document.querySelector("#tourme-content").className=o[r+1].classes:document.querySelector("#tourme-content").className="",o[r+1].top?-1==o[r+1].top.indexOf("-")?document.querySelector("#tourme-content").style.top=e.getOffset(document.querySelector('.tourMe[data-tourme-id="'+o[r+1].id+'"]')).top+o[r+1].top+"px":document.querySelector("#tourme-content").style.top=e.getOffset(document.querySelector('.tourMe[data-tourme-id="'+o[r+1].id+'"]')).top-parseInt(o[r+1].top.replace("-",""))+"px":document.querySelector("#tourme-content").style.top=e.getOffset(document.querySelector('.tourMe[data-tourme-id="'+o[r+1].id+'"]')).top+"px",o[r+1].left?-1==o[r+1].left.indexOf("-")?document.querySelector("#tourme-content").style.left=e.getOffset(document.querySelector('.tourMe[data-tourme-id="'+o[r+1].id+'"]')).left+o[r+1].left+"px":document.querySelector("#tourme-content").style.left=e.getOffset(document.querySelector('.tourMe[data-tourme-id="'+o[r+1].id+'"]')).left-parseInt(o[r+1].left.replace("-",""))+"px":document.querySelector("#tourme-content").style.left=e.getOffset(document.querySelector('.tourMe[data-tourme-id="'+o[r+1].id+'"]')).left+"px",document.querySelector('.tourMe[data-tourme-id="'+o[r+1].id+'"]').classList.add("tourme-pointer"),e.scrollToEl(document.querySelector('.tourMe[data-tourme-id="'+o[r+1].id+'"]')),o[r].active=0,$old_data=JSON.parse(document.querySelector("#tourme-data").value),$old_data_active=$old_data.findIndex(e=>1==e.active),$old_data_active!=$old_data.length-1&&(o[r+1].active=1),document.querySelector("#tourme-data").value=JSON.stringify(o);else{null!==document.querySelector(".tourme-pointer")&&document.querySelector(".tourme-pointer").classList.remove("tourme-pointer");var u=document.querySelector("#tourme-bg");u.parentNode.removeChild(u);var n=document.querySelector("#tourme-content");n.parentNode.removeChild(n)}});var t=JSON.parse(document.querySelector("#tourme-data").value);null!==document.querySelector(".tourme-pointer")&&document.querySelector(".tourme-pointer").classList.remove("tourme-pointer"),t[0].classes?document.querySelector("#tourme-content").className=t[0].classes:document.querySelector("#tourme-content").className="",t[0].top?-1==t[0].top.indexOf("-")?document.querySelector("#tourme-content").style.top=this.getOffset(document.querySelector('.tourMe[data-tourme-id="'+t[0].id+'"]')).top+t[0].top+"px":document.querySelector("#tourme-content").style.top=this.getOffset(document.querySelector('.tourMe[data-tourme-id="'+t[0].id+'"]')).top-parseInt(t[0].top.replace("-",""))+"px":document.querySelector("#tourme-content").style.top=this.getOffset(document.querySelector('.tourMe[data-tourme-id="'+t[0].id+'"]')).top+"px",t[0].left?-1==data[0].left.indexOf("-")?document.querySelector("#tourme-content").style.left=this.getOffset(document.querySelector('.tourMe[data-tourme-id="'+t[0].id+'"]')).left+t[0].left+"px":document.querySelector("#tourme-content").style.left=this.getOffset(document.querySelector('.tourMe[data-tourme-id="'+t[0].id+'"]')).left-parseInt(t[0].left.replace("-",""))+"px":document.querySelector("#tourme-content").style.left=this.getOffset(document.querySelector('.tourMe[data-tourme-id="'+t[0].id+'"]')).left+"px",document.querySelector('.tourMe[data-tourme-id="'+t[0].id+'"]').classList.add("tourme-pointer"),this.scrollToEl(document.querySelector('.tourMe[data-tourme-id="'+t[0].id+'"]')),t[0].anchor?document.querySelector("#tourme-content .content").innerHTML=document.querySelector(t[0].anchor).innerHTML:document.querySelector("#tourme-content .content").innerHTML=t[0].content,document.querySelector("#tourme-bg").style.display="block",document.querySelector("#tourme-content").style.display="block",t[0].active=1,document.querySelector("#tourme-data").value=JSON.stringify(t)},this.getOffset=function(e){const t=e.getBoundingClientRect();return{left:t.left+window.scrollX,top:t.top+window.scrollY}},this.generateUID=function(){for(var e=(+new Date).toString().split("").reverse(),t="",o=0;o<8;++o){t+=e[Math.floor(Math.random()*(e.length-1-0+1))+0]}return t}}