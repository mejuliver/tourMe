function tourMe(){this.$arr=[];var e=this;this.start=function(){var e=document.querySelectorAll("[data-tourme-seq]");if(0!=e.length){if(null==e)for(var t=0;t<e.length;t++){var o=t+"_"+this.generateUID();e[t].classList.add("tourMe"),e[t].setAttribute("data-tourme-id",o);var r=null!=e[t].getAttribute("data-tourme-anim")&&e[t].getAttribute("data-tourme-anim"),n=null!=e[t].getAttribute("data-tourme-content")&&e[t].getAttribute("data-tourme-content"),u=null!=e[t].getAttribute("data-tourme-anchor")&&e[t].getAttribute("data-tourme-anchor");this.$arr.push({id:o,seq:parseInt(e[t].getAttribute("data-tourme-seq")),anim:r,content:n,anchor:u,active:0}),this.$arr.sort(function(e,t){return e.seq<t.seq?-1:e.seq>t.seq?1:0})}var c=document.createElement("div");c.setAttribute("id","tourme-bg"),document.querySelector("body").appendChild(c);var d=document.createElement("div");d.setAttribute("id","tourme-content"),$data=JSON.stringify(this.$arr),d.innerHTML="<div class='content'></div><input type='hidden' value='"+$data+"' id='tourme-data'><div id='tourme-buttons'><a href='#' id='tourme-button-prev'>Prev</a><a href='#' id='tourme-button-next'>Next</a><a href='#' id='tourme-button-end'>End</a></div>",document.querySelector("body").appendChild(d),this.init()}},this.scrollToEl=function(e){const t=e.getBoundingClientRect().top+window.scrollY-100;window.scroll({top:t,behavior:"smooth"})},this.init=function(){document.querySelector("#tourme-button-end").addEventListener("click",function(e){e.preventDefault();var t=document.querySelector("#tourme-bg");t.parentNode.removeChild(t);var o=document.querySelector("#tourme-content");o.parentNode.removeChild(o)}),document.querySelector("#tourme-button-prev").addEventListener("click",function(t){t.preventDefault();var o=JSON.parse(document.querySelector("#tourme-data").value),r=o.findIndex(e=>1==e.active);0!=r&&(o[r-1].anchor?document.querySelector("#tourme-content .content").innerHTML=document.querySelector(o[r-1].anchor).innerHTML:document.querySelector("#tourme-content .content").innerHTML=o[r-1].content,e.scrollToEl(document.querySelector('.tourMe[data-tourme-id="'+o[r-1].id+'"]')),document.querySelector("#tourme-content").style.top=e.getOffset(document.querySelector('.tourMe[data-tourme-id="'+o[r-1].id+'"]')).top+"px",document.querySelector("#tourme-content").style.left=e.getOffset(document.querySelector('.tourMe[data-tourme-id="'+o[r-1].id+'"]')).left+"px",o[r].active=0,$old_data=JSON.parse(document.querySelector("#tourme-data").value),$old_data_active=$old_data.findIndex(e=>1==e.active),0!=$old_data_active&&(o[r-1].active=1),document.querySelector("#tourme-data").value=JSON.stringify(o))}),document.querySelector("#tourme-button-next").addEventListener("click",function(t){t.preventDefault();var o=JSON.parse(document.querySelector("#tourme-data").value),r=o.findIndex(e=>1==e.active);if(r!=o.length-1)o[r+1].anchor?document.querySelector("#tourme-content .content").innerHTML=document.querySelector(o[r+1].anchor).innerHTML:document.querySelector("#tourme-content .content").innerHTML=o[r+1].content,e.scrollToEl(document.querySelector('.tourMe[data-tourme-id="'+o[r+1].id+'"]')),document.querySelector("#tourme-content").style.top=e.getOffset(document.querySelector('.tourMe[data-tourme-id="'+o[r+1].id+'"]')).top+"px",document.querySelector("#tourme-content").style.left=e.getOffset(document.querySelector('.tourMe[data-tourme-id="'+o[r+1].id+'"]')).left+"px",o[r].active=0,$old_data=JSON.parse(document.querySelector("#tourme-data").value),$old_data_active=$old_data.findIndex(e=>1==e.active),$old_data_active!=$old_data.length-1&&(o[r+1].active=1),document.querySelector("#tourme-data").value=JSON.stringify(o);else{var n=document.querySelector("#tourme-bg");n.parentNode.removeChild(n);var u=document.querySelector("#tourme-content");u.parentNode.removeChild(u)}});var t=JSON.parse(document.querySelector("#tourme-data").value);this.scrollToEl(document.querySelector('.tourMe[data-tourme-id="'+t[0].id+'"]')),document.querySelector("#tourme-content").style.top=this.getOffset(document.querySelector('.tourMe[data-tourme-id="'+t[0].id+'"]')).top+"px",document.querySelector("#tourme-content").style.left=this.getOffset(document.querySelector('.tourMe[data-tourme-id="'+t[0].id+'"]')).left+"px",t[0].anchor?document.querySelector("#tourme-content .content").innerHTML=document.querySelector(t[0].anchor).innerHTML:document.querySelector("#tourme-content .content").innerHTML=t[0].content,document.querySelector("#tourme-bg").style.display="block",document.querySelector("#tourme-content").style.display="block",t[0].active=1,document.querySelector("#tourme-data").value=JSON.stringify(t)},this.getOffset=function(e){const t=e.getBoundingClientRect();return{left:t.left+window.scrollX,top:t.top+window.scrollY}},this.generateUID=function(){for(var e=(+new Date).toString().split("").reverse(),t="",o=0;o<8;++o){t+=e[Math.floor(Math.random()*(e.length-1-0+1))+0]}return t}}